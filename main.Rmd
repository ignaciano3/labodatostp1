---
title: "Trabajo Práctico 1"
author: "Ignacio Garcia Pizales, ..."
date: "18 de Octubre"
output: html_notebook
---
------------------------------------------------------------------------

### Imports de paquetes

```{r}
require(data.table)
require(dplyr)
require(rvest)
require(xml2)
```

### Preprocesamiento

#### Archivos csv Vuelos
```{r}
files = list.files(pattern="*.csv") # Lo tenía de antes, lo dejo igual para varios archivos
viajes = do.call(rbind, lapply(files, fread, sep = ";", encoding = "UTF-8"))
rm(files)
```

##### Algunos vuelos

```{r}
head(sample_n(viajes, 10))
```

#### Parte Wikipedia

```{r}
pag_wiki = read_html("https://en.wikipedia.org/wiki/List_of_airports_in_Argentina")
elem_tabla = html_element(pag_wiki, ".wikitable")

latitud = html_nodes(pag_wiki, css = '.latitude')
latitud = html_text(latitud)

longitud = html_nodes(pag_wiki, css = '.longitude')
longitud = html_text(longitud)

aeropuertos = html_table(elem_tabla)
aeropuertos = aeropuertos[c(-4,-6)] # Elimino IATA, Coordenadas
aeropuertos["latitud"] = latitud
aeropuertos["longitud"] = longitud

rm(list = c("pag_wiki", "elem_tabla", "latitud", "longitud")) #Esto es para que no queden variables sueltas
head(aeropuertos, 10)
```

1. Agreguen nuevas variables con la ciudad, provincia y coordenadas que corresponde a cada aeropuerto.  

2. Calculen la distancia recorrida por cada vuelo. La función distHaversine del paquete
geosphere puede resultarles útil.

3. Calculen la velocidad media de cada vuelo 

```{r}
aeropuertos = aeropuertos[,c(3,5,6,1,2,4)]
head(aeropuertos)
```

Cosas para investigar
- que aeronaves se usan mas
- que marcas de aeronaves se usan mas
- que aerolinea, hora se viaja mas
en si barplots para cada variable

vuelo mas lejano
